<html lang=en>



<p><strong>Table of Contents:</strong></p>

<ol>  
<li><a href='#demo'>Demo</a></li>        
<li><a href='#introduction'>Introduction</a></li>
<li><a href='#what-is-notification-in-android'> What is Notification in Android?</a></li>

<li>
An Example:
<br>
<ol>

<li><a href='#WhatYouWillLearnInDemo'>What you will Learn in this Demo</a></li>
<li><a href='#SettingUpNotification'>Setting Up Notification</a></li>
<li><a href='#CreateNotificationChannel'>Create a Notification channel</a></li>
<li><a href='#CreateNotification'>Create a Notification</a></li>
<li><a href = '#SetTapActionToNotification'>Set Tap Action to Notification</a></li>
<li><a href='#SettingStylesToNotification'>Setting Styles to Notification</a></li>
<li><a href='#DisplayNotificationOnLockScreen'>Display Notification on Lock Screen</a></li>
<li><a href='#AddActionButtons'>Add Action Buttons</a></li>


</ol>
</ol>
</li>
</ul>
<br>
<br><br>

<h3 id='demo'>Demo</h3>
<br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\demoNotificationsGifExample.gif">
</div>
<br><br><br>





<h3 id='introduction'>Introduction</h3>
<br>
In this blog I'm going to show you how to display Notifications in Android.<br><br><br>



<h3 id='what-is-notification-in-android'>What is Notification in Android?</h3>
<br>
A Notification is a kind of message you can display to the user outside of your app's UI. User can tap on notification to open your app or directly take an action from notification.
<br><br><br>



<h3 id='WhatYouWillLearnInDemo'>What you will Learn in this Demo</h3>
<br>
We will build a simple app and display the notification with following features :
<ul>
<li>Notifications on api<26 and api>26</li>
<li>Displaying a basic notification</li>
<li>Custom styling for notification</li>
<li>Lock screen Notifications</li>
<li>Tap Action on Notification</li>
<li>Action buttons on Notifications</li>
</ul> 
<br><br>
Let's begin the coding.

<br><br><br>


<h3 id='SettingUpNotification'>Setting Up Notification</h3>
<br>
<p>Open MainActivity.java file and outside onCreate() , create a public method called sendNotification() and inside this method add the following code.</p><p>In this we are getting a instance of NotificationManager class from Context.getSystemService() method.</p><br>
<b>What is NotificationManager class ?</b><br><br>
NotificationManager class is used to build a notification and create a notification channel.This class also notify the user of events that happen in app , through this only user gets to know that something has happened in background.
<br><br>
<script src="https://gist.github.com/Manik1094/9e8b82f9b61358b2a419f4860158c053.js"></script>

<br><br><br>

<h3 id='CreateNotificationChannel'>Create a Notification channel</h3>
<br>
Before creating a Notification channel , Let's discuss <b>What is  Notification channel?</b><br><br>
<p>Starting in Android 8.0(API Level 26) Android system makes compulsory for all notifications to be assigned a particular channel . Through these channels user can have a complete control over Notification and change the settings of Notifications.</p>
<p>Now inside sendNotification() method , add the following code.</p>
<p>In this we are creating NotificationChannel object by passing the Channel_id(This should be unique) , channel name and channel importance , IMPORTANCE_DEFAULT means when notification is displayed it makes noise , and then registering a channel through createNotificationChannel() method. </p>
<p>Further we are adding some properties to our channel such as :</p>
<ul>
<li><b>enableVibration(true): </b> This means when notification is posted to this channel it should vibrate.</li>
<li><b>enableLights(true): </b>This means when notification is posted to this channel it should display lights.</li>
<li><b>setLightColor(): </b> It sets the light color for notification posted to this channel.</li>
</ul>
<br><br>
<script src="https://gist.github.com/Manik1094/ff4106818713c82580049216c4393d03.js"></script>
<br><br><br>

<h3 id='CreateNotification'>Create a Notification</h3>
<br>
<p>Inside sendNotification() method , add the following code. In this we are building a notification from NotificationCompat.builder class passing the context and channel id which we mentioned above.</p>
<p>Then we are adding some properties of notification such as :</p>
<ul>
<li><b>setContentTitle(): </b> Sets the title text in notification.</li>
<li><b>setContentText(): </b> Sets the main text or body in notification.</li>
<li><b>setSmallIcon(): </b>Sets the small icon in notification , This must be added in notification.</li>
<li><b>setPriority(): </b>Sets the priority of notification , if the priority is high then more likely to interrupt the user.</li>
</ul>
<br><br>
<script src="https://gist.github.com/Manik1094/0b6e4a5c511e29201364dab166a95498.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\basicNotificationExample.jpeg">
</div>
<br><br><br>

<h3 id='SetTapActionToNotification'>Set Tap Action to Notification</h3>
<br>
Firstly , create another empty activity called SecondActivity.java and then open activity_second.xml file and add the following code.<br><br>
<script src="https://gist.github.com/Manik1094/1a00d80ac8f5a5aceb59fb0d75404779.js"></script>
Then open MainActivity.java file and inside sendNotification() method , add the following code . First we are creating our intent object , then passing this object to Pending Intent and setting this intent to notification i.e When user taps on notification this intent will fire.
<br><br>
<b>What is Pending Intent?</b><br>
A pending intent is an intent that has yet to be fired. Hence the prefix, 'pending'. The intent will be fired when some action is taken. In this case, the action is when the user clicks on the notification.
<br><br>
<script src="https://gist.github.com/Manik1094/91181642ff21dce67a14e90657fe4af7.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\TapActionNotificationExample.gif">
</div>
<br><br><br>

<h3 id='SettingStylesToNotification'>Setting Styles to Notification</h3>
<br>
In this section we will be creating an Expandable Notification. A basic notification contains one line of text and small information but in expandable notification we can add multi-line text and bigger picture.
<br><br>
<b>Add a large block of Text : </b><br><br>
Inside sendBroadcast() method , add the following code. BigTextStyle() lets you add large block to text in notification.<br><br>
<script src="https://gist.github.com/Manik1094/3a7b2867b45b30367eba0be8e53f514c.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\largeTextExample.jpeg">
</div>
<br><br>
<b>Add a large Image : </b><br><br>
Inside sendBroadcast() method , add the following code, bigPicture() takes a bitmap so we are converting our drawable image to bitmap.<br><br>
<script src="https://gist.github.com/Manik1094/5ee2b3222409d43aabf79e79e9934a4d.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\largeImageExample.jpeg">
</div>
<br><br><br>

<h3 id='DisplayNotificationOnLockScreen'>Display Notification on Lock Screen</h3>
<br>
Inside sendBroadcast() method , add the following code. Notifications can be displayed on lock screen through channel.setLockScreenVisibility() method , There are three visibility  modes:
<ul>
<li><b>VISIBILITY_PUBLIC: </b> When you want to display the full content of Notification on Lock screen.</li>
<li><b>VISIBILITY_PRIVATE: </b>When you want to display basic information such as icon and content title on Lock screen.</li>
<li><b>VISIBILITY_SECRET: </b>When you don't want to display any part of notification on Lock screen.</li>
</ul>
<br><br>

<script src="https://gist.github.com/Manik1094/816795a13d9a0bb4a18c0cb5eff91a31.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\lockscreenExample.jpeg">
</div>
<br><br><br>

<h3 id='AddActionButtons'>Add Action Buttons</h3>
<br>
In this section our notification contain "View" button on click of which we will open a new Activity displaying that image.
<p>Create new empty Activtity called ThirdActivity.java and add the following code inside it. Similarly open activity_third.xml file and add the following code. </p><br><br>
<script src="https://gist.github.com/Manik1094/6d302c3e7b4496833578d1e5e6a155ae.js"></script>
<br>
<script src="https://gist.github.com/Manik1094/20b9b47727321f3006a1879a17e605fb.js"></script>
<br>
<p>Now , open MainActivity.java and inside sendBroadcast add the following code , addAction() takes three arguments-icon , button text and pendingIntent. So when user clicks on View button "viewPendingIntent" will fire and ThirdActivity will be displayed.</p><br>
<script src="https://gist.github.com/Manik1094/77b40099667a4d81477ad7146f8da37a.js"></script><br><br>
Till now we have done this :<br><br>
<div class="row justify-content-md-center">
<img class="img-fluid text-center"
src = "C:\Users\Manik Gupta\Desktop\NotificationsBlogAssets\viewActionButtonNotificationGifExample.gif">
</div>
<br><br><br>


That's All! Happy Coding!
<br><br><br>


The complete code is available <a href="https://github.com/Manik1094/NotificationsExample" target="_blank" rel="nofollow">here</a>.
<br><br><br>





</html>